<table class="table">
  <thead>
    <tr>
      <th scope="col">
        <a 
          href="#"
          class="header sort d-flex justify-content-between align-items-center"
          data-col="type"
        >
          Type
          <i class="fa <%= table.cols[0].sort_icon_name %>"></i>
        </a>
      </th>
      <th scope="col">
        <a
          href="#"
          class="header sort d-flex justify-content-between align-items-center"
          data-col="title"
        >
          Title
          <i class="fa <%= table.cols[1].sort_icon_name %>"></i>
        </a>
      </th>
      <% for (i=0; i < table.key_cols.length; i++) { %>
        <% column = table.key_cols[i] %>
        <% if (column) { %>
          <th scope="col">
            <a 
              href="#"
              class="header sort d-flex justify-content-between align-items-center"
              data-col="key" data-key="<%= column.key %>"
            >
              <%= column.key %>
              <i class="fa <%= column.sort_icon_name %>"></i>
            </a>
          </th>
        <% } %>
      <% } %>
      <th scope="col">
        <a
          href="#"
          class="header sort d-flex justify-content-between align-items-center"
          data-col="created_at"
        >
          Created At
          <i class="fa  <%= table.cols[table.cols.length -1].sort_icon_name %>"></i>
        </a>
      </th>
    </tr>
  </thead>
  <tbody>
    <% for (i=0; i < nodes.length; i++) { %>
        <% node = nodes.at(i) %>
    <tr class="node" data-id="<%= node.get('id') %>" data-cid="<%= node.cid %>" data-url="<%= node.url %>">
        <td><% if (node.is_document()) { %> <i class="fa fa-file"></i> <% } else { %> <i class="fa fa-folder text-warning"></i> <% } %></td>
        <td scope="row"><%= node.full_title() %></td>
        <% for (j=0; j < parent_kv.length; j++) { %>
          <% kvstore = parent_kv.at(j) %>
          <% if (kvstore) { %>
            <td scope="col"><%= node.get_page_value_for(kvstore.get('key')) %></td>
          <% } %>
        <% } %>
        <td><%= node.get('created_at') %></td>
    </tr>
    <% } %>
  </tbody>
</table>